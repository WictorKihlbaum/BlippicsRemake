<!DOCTYPE html>

<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="google-signin-scope" content="https://www.googleapis.com/auth/drive">
        <meta name="google-signin-client_id" content="788591829115-1uq193qnm8r72ujqej7l3hdj558hj7ej.apps.googleusercontent.com">
		<title>Blippics | Edit Local Image</title>
		<link rel="stylesheet" href="./assets/css/material.min.css">
		<script src="./assets/js/material.min.js"></script>
		<link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="./assets/css/custom.css">
		<link rel="stylesheet" href="./assets/css/hover.css">
		<link rel='stylesheet' href='//fonts.googleapis.com/css?family=Luckiest+Guy|Finger+Paint|Raleway|Paytone+One'>
	</head>
	<body>
		<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
			<header class="mdl-layout__header">
		    	<div class="mdl-layout__header-row">
		      		<span class="mdl-layout-title">Blippics</span>
				</div>
		  	</header>
		  	<div class="mdl-layout__drawer">
		    	<span class="mdl-layout-title">Menu</span>
	    		<nav class="mdl-navigation">
	      			<a class="mdl-navigation__link hvr-underline-from-left" href="index.html">
	      				<img src="./assets/img/icons/home-icon.png" alt="Visit home page">
	      				Home
	      			</a>
      				<a class="mdl-navigation__link hvr-underline-from-left" href="about.html">
      					<img src="./assets/img/icons/information-icon.png" alt="Visit about page">
      					About
      				</a>
	      			<a class="mdl-navigation__link hvr-underline-from-left mdl-menu__item--full-bleed-divider" href="contact.html">
	      				<img src="./assets/img/icons/contact-icon.png" alt="Visit contact page">
	      				Contact
	      			</a>
					<!-- Google login/logout button -->
					<div class="g-signin2 mdl-navigation__link" data-onsuccess="onSignIn"></div>
					<a href="#" id="signout-button" class="mdl-navigation__link">
						Sign out
					</a>
	    		</nav>
		  	</div>
		  	<main class="mdl-layout__content">
		    	<div class="page-content" id="main-container">

					<!-- TODO: Add an option to take a selfie with connected camera. -->

		    		<div id="editlocal-page-container">

						<button id="show-dialog"
								type="button"
								class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent">
							Show Help
						</button>

			    		<h1 class="mdl-typography--display-1 page-topic">Edit image from computer</h1>

						<!-- Response messages will be shown here. -->
						<div id="user-message"></div>

						<dialog class="mdl-dialog">
							<h4 class="mdl-dialog__title">Help</h4>
							<div class="mdl-dialog__content">
								<ul>
									<li>1. Press "Choose image" to choose which image you want to edit (Png or Jpg/Jpeg).</li>
									<li>2. Press "Edit image". The photo editor will automatically open.</li>
									<li>3. Press "Apply" in the upper-right corner, after you are done with each tool.</li>
									<li>4. Press "Save" in the upper-right corner when you are done and then close the editor.</li>
									<li>5. Press "Download image" to download your edited image to your computer.</li>
								</ul>
							</div>
							<div class="mdl-dialog__actions">
								<button type="button" class="mdl-button close">Close</button>
							</div>
						</dialog>

			    		<div id="image-container">
			                <div>
			                	<label for="input" class="label-class mdl-button mdl-button--raised mdl-button--primary">
			                        Choose image
			                        <input type="file"
			                               id="input"
			                               onchange="LocalClass.handleFiles(this.files)"
			                               multiple accept="image/png, image/jpg, image/jpeg" />
			                    </label>
			                </div>
			                <div id="dropzone">
			                    <img src="./assets/img/placeholder_image.png"
									 alt="Preview of loaded image"
									 id="editable-image" />
		                	</div>
		            	</div>

						<p> <!-- Edit (added from 'LocalClass.js') -->
							<span id="edit-button-field"></span>
						</p>
			
						<p> <!-- Download (added from 'AviaryLocal.js') -->
                			<span id="download-button-field"></span>
                		</p>

						<p> <!-- Go back -->
							<a href="index.html"
							   id="go-back-button"
							   class="mdl-button
		            		   		  mdl-js-button
		            		   		  mdl-button--raised
		            		   		  mdl-js-ripple-effect
		            		   		  mdl-button--accent">
								Go back
							</a>
						</p>

	            	</div>
		    	</div>
		  	</main>
			<footer class="mdl-mini-footer">
				<div class="mdl-mini-footer__middle-section">
					<ul class="mdl-mini-footer__link-list">
						<li>
							<a href="https://www.facebook.com/wictor.kihlbaum" class="hvr-wobble-vertical">
								<img src="./assets/img/icons/facebook-icon.png" alt="Visit my Facebook" />
							</a>
						</li>
						<li>
							<a href="https://twitter.com/WictorKihlbaum" class="hvr-wobble-vertical">
								<img src="./assets/img/icons/twitter-icon.png" alt="Visit my Twitter" />
							</a>
						</li>
						<li>
							<img src="./assets/img/icons/gmail-icon.png"
								 alt="My Gmail address"
								 data-clipboard-text="wictor.kihlbaum@gmail.com"
								 id="my-gmail-address"
								 class="hvr-wobble-vertical" />
						</li>
						<li>
							<a href="https://github.com/WictorKihlbaum" class="hvr-wobble-vertical">
								<img src="./assets/img/icons/github-icon.png" alt="Visit my GitHub" />
							</a>
						</li>
					</ul>
				</div>
			</footer>
		</div>

		<script src="./assets/js/clipboard.min.js"></script>
		<script src="./assets/js/jquery-3.0.0.min.js"></script>
		<script src="//apis.google.com/js/platform.js"></script>
		<script src="//apis.google.com/js/client.js"></script>
		<script src="./assets/js/SignEvent.js"></script>
		<script src="//dme0ih8comzn4.cloudfront.net/imaging/v3/editor.js"></script>
        <script src="./assets/js/AviaryLocal.js"></script>
        <script src="./assets/js/LocalClass.js"></script>
        <script src="./assets/js/Message.js"></script>
		<script>
			function onSignIn(googleUser) {
				SignEvent.signIn(googleUser);
			}
			new Clipboard('#my-gmail-address');
		</script>
	</body>
</html>